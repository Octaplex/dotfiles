#!/usr/bin/env ruby
# encoding: utf-8
# show a table of color values in the terminal

$fgs = [nil, 30, 31, 32, 33, 34, 35, 36, 37]
$bgs = [nil, 40, 41, 42, 43, 44, 45, 46, 47]

def line(label = '')
  printf('%6s ', label)
  puts ($fgs.map do |i|
    yield i
  end).join(' ')
end

line { |fg| sprintf(' %-2sm ', fg) }
$bgs.each do |bg|
  line "#{bg}m" do |fg|
    "\e[#{fg}#{bg.nil? ? '' : ";#{bg}"}m" + ' gYw ' + "\e[0m"
  end
end
